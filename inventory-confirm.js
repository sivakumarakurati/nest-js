const fluentApiHost = 'https://shoppersstop.api.fluentretail.com';
const retailerId = 1;

// const fluentApiHost = 'https://sstopdev.sandbox.api.fluentretail.com';
// const retailerId = 5;

const axios = require('axios');
const fs = require('fs'); // Import the fs module
async function makeGraphqlPostRequest() {
    const apiUrl = fluentApiHost + '/graphql'
    const config = {
        method: 'post',
        headers: {
            Authorization: "bearer " + "21NMH2HfVCcJd07VJSAo1miaajY",
        }
    }
    const ids = ["8706-1-SSB_1020539", "8703-1-SSB_1020552", "112-6-SSB_1020365", "294-1-SSB_1020622", "101-1-SSB_1020648", "8703-2-SSB_1020552", "8703-3-SSB_1020480", "8703-3-SSB_1020552", "8703-4-SSB_1020480", "8703-5-SSB_1020480", "8703-6-SSB_1020480", "117-2-SSB_1020704", "117-3-SSB_1020704", "117-4-SSB_1020704", "117-5-SSB_1020704", "127-1-SSB_1020715", "122-2-SSB_1020717", "151-1-SSB_1020730", "8702-3-SSB_1020730", "8702-4-SSB_1020730", "8706-1-SSB_1020612", "8706-2-SSB_1020612", "8703-1-SSB_1020760", "114-1-SSB_1020797", "110-1-SSB_1020852", "8709-1-SSB_1020873", "8703-2-SSB_1020760", "154-2-SSB_1020797", "8708-8-SSB_1020730", "8703-3-SSB_1020760", "8703-1-SSB_1020965", "347-4-SSB_1020760", "273-1-SSB_1020966", "120-1-SSB_1020989", "170-1-SSB_1020992", "8702-1-SSB_1021076", "151-2-SSB_1021089", "122-1-SSB_1021175", "130-1-SSB_1021187", "450-1-SSB_1021196", "8703-2-SSB_1020965", "168-5-SSB_1021187", "851-3-SSB_1020797", "8703-2-SSB_1021175", "851-1-SSB_1021267", "347-5-SSB_1020760", "8702-2-SSB_1021076", "347-6-SSB_1020760", "116-1-SSB_1021290", "450-2-SSB_1021196", "120-2-SSB_1020989", "120-3-SSB_1020989", "450-1-SSB_1021319", "478-1-SSB_1021328", "116-1-SSB_1021341", "8703-1-SSB_1021365", "110-2-SSB_1021365", "8709-1-SSB_1021366", "116-2-SSB_1021290", "116-2-SSB_1021341", "116-3-SSB_1021290", "116-3-SSB_1021341", "116-4-SSB_1021290", "116-4-SSB_1021341", "116-1-SSB_1021391", "8703-1-SSB_1021402", "8703-1-SSB_1021406", "146-1-SSB_1021407", "116-5-SSB_1021341", "116-6-SSB_1021341", "101-3-SSB_1021419", "114-1-SSB_1021419", "114-2-SSB_1021419", "102-1-SSB_1021431", "116-1-SSB_1021488", "450-1-SSB_1021543", "116-5-SSB_1021290", "116-6-SSB_1021290", "196-1-SSB_1021568", "8703-2-SSB_1021406", "120-4-SSB_1020989", "478-2-SSB_1021431", "146-2-SSB_1021402", "8703-3-SSB_1021365", "8703-3-SSB_1021406", "8703-4-SSB_1021365", "110-5-SSB_1021365", "101-1-SSB_1021602", "146-3-SSB_1021402", "450-2-SSB_1021319", "8703-2-SSB_1021543", "146-2-SSB_1021624", "8702-1-SSB_1021624", "101-2-SSB_1021647", "8702-1-SSB_1021670", "116-1-SSB_1021692", "312-1-SSB_1021693", "122-1-SSB_1021697", "147-3-SSB_1021431", "170-5-SSB_1021697", "170-6-SSB_1021697", "174-3-SSB_1021647", "110-1-SSB_1021742", "116-2-SSB_1021748", "174-2-SSB_1021780", "146-1-SSB_1021798", "8705-1-SSB_1021831", "143-2-SSB_1021693", "120-5-SSB_1020989", "120-6-SSB_1020989", "116-3-SSB_1021748", "110-6-SSB_1021365", "905-2-SSB_1021981", "196-2-SSB_1021568", "450-3-SSB_1021319", "196-3-SSB_1021568", "8703-4-SSB_1021406", "8703-3-SSB_1021543", "182-4-SSB_1021402", "8512-5-SSB_1021402", "146-3-SSB_1021780", "8702-1-SSB_1022013", "116-2-SSB_1021391", "116-2-SSB_1021692", "116-2-SSB_1021488", "116-5-SSB_1021748", "116-3-SSB_1021488", "116-3-SSB_1021391", "116-3-SSB_1021692", "116-6-SSB_1021748", "116-4-SSB_1021692", "116-4-SSB_1021391", "116-4-SSB_1021488", "450-4-SSB_1021319", "450-5-SSB_1021319", "450-6-SSB_1021319", "143-2-SSB_1021670", "8702-4-SSB_1021624", "110-6-SSB_1021402", "143-1-SSB_1022138", "116-1-SSB_1022154", "146-2-SSB_1022168", "8703-1-SSB_1022191", "146-1-SSB_1022211", "182-1-SSB_1022213", "8702-1-SSB_1022217", "116-5-SSB_1021391", "116-5-SSB_1021488", "116-5-SSB_1021692", "116-6-SSB_1021692", "116-6-SSB_1021391", "116-6-SSB_1021488", "8703-5-SSB_1021406", "116-2-SSB_1022154", "199-2-SSB_1022138", "182-2-SSB_1022213", "116-3-SSB_1022154", "116-4-SSB_1022154", "116-5-SSB_1022154", "116-6-SSB_1022154", "182-3-SSB_1022213", "121-4-SSB_1022213", "8702-2-SSB_1022217", "110-1-SSB_1022294", "121-1-SSB_1022313", "8702-1-SSB_1022337", "102-1-SSB_1022363", "8706-1-SSB_1022423", "8702-1-SSB_1022428", "116-1-SSB_1022460", "102-2-SSB_1022363", "116-2-SSB_1022460", "155-1-SSB_1021582", "188-1-SSB_1021576", "116-3-SSB_1022460", "116-4-SSB_1022460", "478-2-SSB_1021930", "102-3-SSB_1022363", "102-4-SSB_1022363", "273-1-SSB_1022531", "8702-1-SSB_1022532", "8706-1-SSB_1022248", "122-1-SSB_1022541", "8702-3-SSB_1022217", "8702-2-SSB_1022428", "8702-2-SSB_1022337", "8702-3-SSB_1022337", "8705-3-SSB_1022428", "8702-4-SSB_1022217", "8705-5-SSB_1022217", "851-1-SSB_1022584", "117-1-SSB_1022590", "110-1-SSB_1022606", "188-1-SSB_1022633", "478-3-SSB_1021930", "147-2-SSB_1022606", "310-3-SSB_1022606", "8705-6-SSB_1022217", "8705-1-SSB_1022708", "165-1-SSB_1022917", "347-1-SSB_1022944", "102-1-SSB_1022963", "8703-1-SSB_1023004", "102-2-SSB_1022963", "102-3-SSB_1022963", "174-4-SSB_1022606", "8705-1-SSB_1023081", "8703-2-SSB_1023004", "153-2-SSB_1023105", "146-5-SSB_1022606", "8705-1-SSB_1023154", "130-2-SSB_1022917", "8705-1-SSB_1023249", "114-1-SSB_1023250", "153-1-SSB_1023277", "127-1-SSB_1023282", "8705-1-SSB_1023285", "130-3-SSB_1022917", "130-4-SSB_1022917", "130-5-SSB_1022917", "130-6-SSB_1022917", "8705-2-SSB_1023277", "130-1-SSB_1023355", "8705-1-SSB_1023359", "8705-1-SSB_1023372", "101-1-SSB_1023373", "8705-1-SSB_1023405", "102-2-SSB_1023250", "130-2-SSB_1023355", "310-3-SSB_1023355", "8703-1-SSB_1023544", "130-1-SSB_1023553", "347-2-SSB_1022944", "8705-1-SSB_1023602", "144-1-SSB_1023621", "8702-2-SSB_1023626", "905-1-SSB_1023646", "102-1-SSB_1023678", "8702-1-SSB_1023686", "130-2-SSB_1023553", "130-3-SSB_1023553", "130-4-SSB_1023553", "122-1-SSB_1023702", "127-2-SSB_1023702", "8705-1-SSB_1023701", "8709-2-SSB_1023686", "8702-3-SSB_1023626", "102-2-SSB_1023678", "122-2-SSB_1023731", "127-3-SSB_1023702", "102-3-SSB_1023678", "8709-3-SSB_1023686", "8705-1-SSB_1023748", "130-5-SSB_1023553", "8709-4-SSB_1023686", "8705-2-SSB_1023602", "8705-2-SSB_1023405", "8705-2-SSB_1023372", "8705-2-SSB_1023359", "8705-2-SSB_1023701", "8705-2-SSB_1023748", "8705-2-SSB_1023249", "8705-2-SSB_1023285", "130-6-SSB_1023553", "110-6-SSB_1022606", "8702-4-SSB_1023626", "8702-5-SSB_1023626", "347-3-SSB_1022944", "312-4-SSB_1022944", "174-1-SSB_1023788", "174-2-SSB_1023788", "130-1-SSB_1023848", "116-1-SSB_1023861", "8702-6-SSB_1023626", "122-4-SSB_1023678", "8706-1-SSB_1023902", "116-2-SSB_1023861", "120-1-SSB_1023926", "170-2-SSB_1023848", "8702-1-SSB_1023950", "112-1-SSB_1023963", "165-2-SSB_1023926", "120-2-SSB_1023985", "154-1-SSB_1024000", "905-1-SSB_1024001", "170-1-SSB_1024061", "182-5-SSB_1022944", "182-6-SSB_1022944", "153-1-SSB_1024084", "101-3-SSB_1023861", "8702-2-SSB_1023950", "8702-3-SSB_1023950", "8702-4-SSB_1023950", "8702-5-SSB_1023950", "8702-6-SSB_1023950", "120-3-SSB_1023985", "310-4-SSB_1023985", "8706-1-SSB_1024097", "170-2-SSB_1024061", "153-2-SSB_1024084", "112-1-SSB_1024112", "310-1-SSB_1024115", "8706-2-SSB_1024097", "144-1-SSB_1024142", "170-3-SSB_1024061", "101-4-SSB_1024061", "144-2-SSB_1024142", "144-3-SSB_1024142", "312-1-SSB_1024181", "8703-1-SSB_1024205", "110-1-SSB_1024228", "110-1-SSB_1024245", "851-1-SSB_1024267", "905-1-SSB_1024282", "122-5-SSB_1023678", "122-6-SSB_1023678", "110-2-SSB_1024245", "314-2-SSB_1024228", "110-3-SSB_1024245", "110-1-SSB_1024311", "144-1-SSB_1024323", "110-3-SSB_1024323", "110-4-SSB_1024245", "902-1-SSB_1024358", "116-1-SSB_1024450", "902-1-SSB_1024471", "905-2-SSB_1024463", "168-4-SSB_1023861", "154-2-SSB_1024450", "902-3-SSB_1024471", "121-4-SSB_1024323", "905-1-SSB_1024552", "101-5-SSB_1024061", "101-3-SSB_1024342", "905-3-SSB_1024463", "902-4-SSB_1024471", "121-5-SSB_1024323", "121-6-SSB_1024323", "905-2-SSB_1024552", "905-4-SSB_1024463", "902-5-SSB_1024471", "902-1-SSB_1024578", "170-1-SSB_1024632", "902-1-SSB_1024658", "8703-1-SSB_1024663", "450-2-SSB_1024675", "314-1-SSB_1024686", "314-2-SSB_1024686", "196-1-SSB_1024695", "450-3-SSB_1024675", "450-4-SSB_1024675", "450-5-SSB_1024675", "912-1-SSB_1024727", "101-6-SSB_1024061", "101-4-SSB_1024342", "165-6-SSB_1024675", "8708-1-SSB_1024745", "273-3-SSB_1024450", "8703-2-SSB_1024663", "101-5-SSB_1024342", "101-6-SSB_1024342", "478-6-SSB_1024471", "8703-3-SSB_1024663", "115-1-SSB_1024784", "8702-1-SSB_1024899", "146-5-SSB_1024463", "153-1-SSB_1024954", "122-1-SSB_1024963", "314-2-SSB_1024903", "170-3-SSB_1024903", "114-1-SSB_1025068", "114-1-SSB_1025112", "114-1-SSB_1025152", "114-2-SSB_1025152", "114-2-SSB_1025112", "101-1-SSB_1025199", "114-3-SSB_1025112", "114-3-SSB_1025152", "144-2-SSB_1025047", "114-4-SSB_1025152", "114-4-SSB_1025112", "101-2-SSB_1025199", "101-3-SSB_1025199", "101-4-SSB_1025199", "101-5-SSB_1025199", "122-6-SSB_1025199", "114-5-SSB_1025112", "114-6-SSB_1025112", "114-5-SSB_1025152", "114-6-SSB_1025152", "8702-1-SSB_1025221", "117-1-SSB_1025250", "312-1-SSB_1025262", "170-1-SSB_1025359", "117-2-SSB_1025250", "146-1-SSB_1025371", "170-1-SSB_1025381", "902-1-SSB_1025383", "155-2-SSB_1025383", "312-1-SSB_1025469", "905-1-SSB_1025503", "130-1-SSB_1025535", "905-3-SSB_1025503", "851-1-SSB_1025592", "155-3-SSB_1025383", "170-2-SSB_1025359", "170-2-SSB_1025381", "170-3-SSB_1025381", "170-3-SSB_1025359", "170-4-SSB_1025359", "170-5-SSB_1025359", "170-6-SSB_1025359", "450-2-SSB_1025535", "144-1-SSB_1025623", "114-3-SSB_1025535", "8703-1-SSB_1025633", "312-2-SSB_1025262", "155-4-SSB_1025383", "110-1-SSB_1025700", "154-4-SSB_1025535", "110-2-SSB_1025700", "110-3-SSB_1025700", "110-4-SSB_1025700", "102-5-SSB_1025535", "110-5-SSB_1025700", "144-2-SSB_1025623", "144-3-SSB_1025623", "8703-1-SSB_1025847", "155-5-SSB_1025383", "155-6-SSB_1025383", "905-4-SSB_1025503", "170-1-SSB_1026011", "102-6-SSB_1025535", "8703-2-SSB_1025830", "154-1-SSB_1026077", "905-5-SSB_1025503", "154-2-SSB_1026077", "478-1-SSB_1026161", "905-1-SSB_1026171", "151-1-SSB_1026203", "905-6-SSB_1025503", "199-1-SSB_1026243", "114-1-SSB_1026248", "478-2-SSB_1026161", "478-3-SSB_1026161", "199-2-SSB_1026243", "199-3-SSB_1026243", "314-1-SSB_1026283", "188-1-SSB_1026290", "116-1-SSB_1026295", "116-1-SSB_1026302", "8703-1-SSB_1026313", "478-4-SSB_1026161", "116-2-SSB_1026302", "347-1-SSB_1026328", "478-5-SSB_1026161", "110-6-SSB_1026161", "902-1-SSB_1026400", "110-4-SSB_1026400", "115-1-SSB_1026435", "115-2-SSB_1026283", "154-3-SSB_1026077", "223-4-SSB_1026077", "199-1-SSB_1026445", "168-2-SSB_1026328", "905-2-SSB_1026483", "112-1-SSB_1026499", "188-3-SSB_1026283", "478-1-SSB_1026570", "153-1-SSB_1026642", "168-1-SSB_1026682", "8703-2-SSB_1026313", "122-1-SSB_1026693", "122-2-SSB_1026693", "155-2-SSB_1026570", "153-2-SSB_1026642", "122-3-SSB_1026693", "122-4-SSB_1026693", "312-1-SSB_1026713", "174-1-SSB_1026733", "112-4-SSB_1026283", "188-1-SSB_1026755", "146-1-SSB_1026761", "147-2-SSB_1026789", "127-1-SSB_1026805", "116-1-SSB_1026807", "121-1-SSB_1026831", "8708-1-SSB_1026832", "146-1-SSB_1026839", "127-2-SSB_1026805", "127-3-SSB_1026805", "127-4-SSB_1026805", "153-2-SSB_1026832", "182-2-SSB_1026755", "174-2-SSB_1026733", "101-1-SSB_1026874", "223-5-SSB_1026077", "114-3-SSB_1026642", "8702-1-SSB_1026935", "188-1-SSB_1026961", "8703-1-SSB_1026979", "154-1-SSB_1027019", "154-2-SSB_1027019", "8703-3-SSB_1027019", "223-6-SSB_1026077", "122-2-SSB_1026807", "116-1-SSB_1027042", "114-4-SSB_1026642", "114-5-SSB_1026642", "114-6-SSB_1026642", "115-1-SSB_1027056", "114-1-SSB_1027057", "174-2-SSB_1026860", "116-1-SSB_1027069", "114-2-SSB_1027057", "114-3-SSB_1027057", "114-4-SSB_1027057", "114-5-SSB_1027057", "114-6-SSB_1027057", "130-1-SSB_1027077", "115-3-SSB_1027056", "116-2-SSB_1027069", "116-3-SSB_1027069", "182-1-SSB_1027093", "130-1-SSB_1027095", "174-3-SSB_1026733", "174-3-SSB_1026860", "174-4-SSB_1026733", "174-4-SSB_1026860", "174-5-SSB_1026733", "174-5-SSB_1026860", "182-1-SSB_1027104", "905-1-SSB_1027130", "115-4-SSB_1027056", "182-2-SSB_1027104", "182-3-SSB_1027104", "182-4-SSB_1027104", "182-5-SSB_1027104", "182-6-SSB_1027104", "130-2-SSB_1027095", "130-3-SSB_1027095", "8703-2-SSB_1027226", "110-5-SSB_1027056", "144-1-SSB_1027229", "154-4-SSB_1027095", "8708-1-SSB_1027265", "130-1-SSB_1027267", "310-2-SSB_1027289", "901-1-BB_1027316", "182-1-SSB_1027335", "8709-3-SSB_1027289", "310-4-SSB_1027289", "8702-2-SSB_1027265", "8709-6-SSB_1027289", "223-2-SSB_1027304", "112-1-SSB_1027388", "144-1-SSB_1027431", "121-1-SSB_1027510", "153-1-SSB_1027528", "121-2-SSB_1027510", "121-3-SSB_1027510", "121-4-SSB_1027510", "121-5-SSB_1027510", "121-6-SSB_1027510", "8702-7-SSB_1027289", "8702-3-SSB_1027265", "102-2-SSB_1027431", "146-1-SSB_1027561", "114-1-SSB_1027564", "223-3-SSB_1027304", "147-1-SSB_1027602", "114-2-SSB_1027564", "130-1-SSB_1027632", "8703-1-SSB_1027633", "8703-1-SSB_1027660", "116-1-SSB_1027681", "196-1-SSB_1027684", "8703-1-SSB_1027689", "8703-1-SSB_1027692", "154-4-SSB_1027304", "154-5-SSB_1027304", "114-3-SSB_1027564", "174-2-SSB_1027758", "146-2-SSB_1027561", "153-2-SSB_1027765", "130-2-SSB_1027632", "112-3-SSB_1027632", "122-1-SSB_1027792", "8708-1-SSB_1027805", "146-3-SSB_1027758", "144-1-SSB_1027815", "144-2-SSB_1027815", "8703-1-SSB_1027823", "112-1-SSB_1027834", "478-1-SSB_1027859", "188-1-SSB_1027861", "294-2-SSB_1027869", "347-1-SSB_1027873", "144-1-SSB_1027884", "188-1-SSB_1027903", "112-1-SSB_1027915", "165-1-SSB_1027928", "121-1-SSB_1027929", "905-1-SSB_1027947", "116-3-SSB_1027561", "188-2-SSB_1027861", "8708-2-SSB_1027805", "478-2-SSB_1027859", "478-3-SSB_1027859", "147-4-SSB_1027859", "116-6-SSB_1027304", "8703-2-SSB_1027633", "8703-2-SSB_1027692", "8703-3-SSB_1027692", "8708-3-SSB_1027805", "182-1-SSB_1027983", "188-3-SSB_1027861", "115-4-SSB_1027632", "115-2-SSB_1027915", "182-2-SSB_1027983", "182-3-SSB_1027983", "851-4-SSB_1027561", "347-1-SSB_1028056", "147-1-SSB_1028136", "8703-3-SSB_1028099", "147-2-SSB_1028136", "147-3-SSB_1028136", "127-4-SSB_1028136", "182-4-SSB_1028056", "154-1-SSB_1028260", "130-1-SSB_1028274", "182-6-SSB_1028056", "144-1-SSB_1028384", "144-1-SSB_1028397", "130-1-SSB_1028408", "144-2-SSB_1028384", "151-2-SSB_1028397", "144-3-SSB_1028384", "223-4-SSB_1028384", "114-1-SSB_1028443", "127-1-SSB_1028493", "143-1-SSB_1028538", "182-1-SSB_1028547", "450-1-SSB_1028554", "312-1-SSB_1028556", "223-5-SSB_1028384", "151-2-SSB_1028547", "312-1-SSB_1028580", "151-4-SSB_1028547", "151-3-SSB_1028397", "151-4-SSB_1028397", "151-5-SSB_1028547", "143-2-SSB_1028538", "8512-1-SSB_1028693", "8703-1-SSB_1028706", "154-2-SSB_1028857", "154-5-SSB_1028397", "151-6-SSB_1028547", "450-3-SSB_1028693", "8703-2-SSB_1026979", "8703-3-SSB_1026979", "310-1-SSB_1028957", "347-1-SSB_1028960", "151-7-SSB_1028547", "154-6-SSB_1028384", "347-2-SSB_1028960", "347-3-SSB_1028960", "347-2-SSB_1028957", "114-1-SSB_1029021", "8708-1-SSB_1029033", "110-1-SSB_1029085", "116-1-SSB_1029094", "130-1-SSB_1029191", "120-1-SSB_1029197", "102-1-SSB_1029202", "122-1-SSB_1029216", "165-1-SSB_1029223", "117-1-SSB_1029228", "154-6-SSB_1028397", "115-3-SSB_1028857", "120-5-SSB_1026979", "120-6-SSB_1026979", "116-2-SSB_1029094", "114-2-SSB_1029021", "130-2-SSB_1029191", "130-3-SSB_1029191", "115-4-SSB_1028857", "165-2-SSB_1029223", "165-3-SSB_1029223", "165-4-SSB_1029223", "165-5-SSB_1029223", "144-6-SSB_1029223", "851-5-SSB_1028857", "114-3-SSB_1029021", "115-3-SSB_1029332", "102-2-SSB_1029202", "347-3-SSB_1028957", "450-4-SSB_1028960", "347-4-SSB_1028957", "114-1-SSB_1029371", "102-3-SSB_1029202", "114-4-SSB_1029021", "114-5-SSB_1029021", "114-6-SSB_1029021", "851-2-SSB_1029033", "102-4-SSB_1029202", "450-5-SSB_1028960", "450-6-SSB_1028960", "450-1-SSB_1029838", "314-1-SSB_1030023", "450-2-SSB_1029838", "121-3-SSB_1029838", "314-2-SSB_1030023", "101-1-SSB_1030056", "153-1-SSB_1030059", "188-2-SSB_1030061", "851-3-SSB_1029033", "294-1-SSB_1030142", "478-3-SSB_1030061", "294-2-SSB_1030142", "294-3-SSB_1030142", "294-4-SSB_1030142", "314-3-SSB_1030023", "478-4-SSB_1030061", "478-5-SSB_1030061", "314-4-SSB_1030023", "314-5-SSB_1030023", "314-6-SSB_1030023", "223-1-SSB_1030567", "8703-1-SSB_1030596", "117-1-SSB_1030722", "8703-2-SSB_1030596", "8703-3-SSB_1030596", "117-2-SSB_1030722", "8703-4-SSB_1030596", "122-1-SSB_1030818", "116-2-SSB_1030790", "116-3-SSB_1030790", "8703-5-SSB_1030596", "8703-6-SSB_1030596", "478-6-SSB_1030061", "182-1-SSB_1030870", "8703-2-SSB_1030901", "182-1-SSB_1030905", "116-2-SSB_1030905", "143-3-SSB_1030905", "122-2-SSB_1030818", "116-4-SSB_1030790", "122-6-SSB_1030905", "127-1-SSB_1030972", "182-5-SSB_1030901", "116-5-SSB_1030790", "117-3-SSB_1031011", "117-4-SSB_1031011", "151-5-SSB_1031011", "151-6-SSB_1031011", "144-1-SSB_1031108", "182-2-SSB_1030870", "154-2-SSB_1031108", "112-1-SSB_1031129", "154-3-SSB_1031108", "127-1-SSB_1031138", "102-1-SSB_1031141", "102-2-SSB_1031141", "102-3-SSB_1031141", "102-4-SSB_1031141", "102-5-SSB_1031141", "273-7-SSB_1030901", "121-1-SSB_1031176", "116-6-SSB_1031141", "478-2-SSB_1031189", "114-1-SSB_1031238", "122-1-SSB_1031248", "147-1-SSB_1031265", "122-1-SSB_1031267", "154-4-SSB_1031108", "101-2-SSB_1031232", "101-2-SSB_1031267", "114-2-SSB_1031238", "188-3-SSB_1031238", "130-1-SSB_1031295", "117-1-SSB_1031296", "188-4-SSB_1031238", "188-5-SSB_1031238", "188-6-SSB_1031238", "102-1-SSB_1031308", "122-1-SSB_1031361", "102-1-SSB_1031363", "8703-1-SSB_1031365", "144-1-SSB_1031398", "196-1-SSB_1031431", "144-1-SSB_1031481", "127-1-SSB_1031482", "8703-1-SSB_1031483", "168-1-SSB_1031508", "8703-2-SSB_1031483", "8703-3-SSB_1031483", "8703-4-SSB_1031483", "8703-5-SSB_1031483", "154-5-SSB_1031108", "122-1-SSB_1031535", "102-2-SSB_1031363", "102-2-SSB_1031308", "102-3-SSB_1031363", "102-3-SSB_1031308", "102-4-SSB_1031308", "102-4-SSB_1031363", "102-5-SSB_1031363", "8708-2-SSB_1031549", "102-6-SSB_1031363", "116-1-SSB_1031592", "223-1-SSB_1031599", "168-2-SSB_1031508", "168-3-SSB_1031508"];
    for (const id of ids) {
        const graphqlQuery = queryFunction(id)
        {
            try {
                const response = await axios.post(apiUrl, { query: graphqlQuery }, config);
                const fulfilmentRes = response.data
                // console.log(JSON.stringify(fulfilmentRes));

                const inventoryQtyRefObject = { "items": [] };

                const wrapperObj = {
                    "name": "UpdateInventoryQty",
                    "retailerId": retailerId,
                    "rootEntityRef": "DEFAULT:" + retailerId,
                    "entityRef": "DEFAULT:" + retailerId,
                    "entityType": "INVENTORY_CATALOGUE",
                    "rootEntityType": "INVENTORY_CATALOGUE",
                    "entitySubtype": "DEFAULT",
                    "attributes": { "items": [] }
                }

                for (const edgeData of fulfilmentRes.data.fulfilments.edges) {
                    for (const itemEdgeData of edgeData.node.items.edges) {
                        const item = {}, nodeItem = {};
                        item.fulfilmentId = edgeData.node.id;
                        item.locationRef = edgeData.node.fromLocation.ref;
                        item.skuRef = itemEdgeData.node.ref;

                        nodeItem.locationRef = item.locationRef;
                        nodeItem.productRef = item.skuRef;
                        nodeItem.RESERVED = item.skuRef + ":" + item.locationRef + ":DEFAULT:RESERVED:" + item.fulfilmentId;

                        if (itemEdgeData.node.rejectedQuantity != 0) {
                            item.correctionQty = -(itemEdgeData.node.rejectedQuantity);
                            nodeItem.CORRECTION = item.skuRef + ":" + item.locationRef + ":DEFAULT:CORRECTION:" + item.fulfilmentId;
                        } else {
                            item.correctionQty = 0;
                        }

                        if (itemEdgeData.node.filledQuantity != 0) {
                            item.saleQty = -(itemEdgeData.node.filledQuantity);
                            nodeItem.SALE = item.skuRef + ":" + item.locationRef + ":DEFAULT:SALE:" + item.fulfilmentId;
                        } else {
                            item.saleQty = 0;
                        }

                        wrapperObj.attributes.items.push(item);
                        inventoryQtyRefObject.items.push(nodeItem);
                    }
                }

                // console.log(JSON.stringify(wrapperObj));
                const updateInventoryResponse = await axios.post(fluentApiHost + '/api/v4.1/event/async', wrapperObj, config);
                console.log("processing... ", id, updateInventoryResponse.status);

                const fileName = `inventoryConfirm.json`;
                await new Promise(resolve => setTimeout(resolve, 1000));
                await fs.promises.appendFile(fileName, JSON.stringify(inventoryQtyRefObject) + '\n');

            } catch (error) {
                console.error('Error:', error.response ? error.response.data : error.message);
            }

        }
    }
}
function queryFunction(id) {
    const graphqlQuery = `
    query{
        fulfilments(ref : ["${id}"]){
            edges{
                node{
                    id
                    ref
                    status
                    items{
                        edges{
                            node{
                                ref
                                filledQuantity
                                rejectedQuantity
                                requestedQuantity
                            }
                        }
                    }
                    fromLocation {
                        ref
                    }
                }
            }
        }
    }`
    return graphqlQuery;
}
makeGraphqlPostRequest();